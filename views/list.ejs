<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0"
		/>
		<link
			rel="stylesheet"
			href="/css/styles.css"
		/>
		<link
			rel="icon"
			type="image/png"
			href="/favicon.png"
		/>
		<title>To Do</title>
	</head>
	<body>
		<div
			class="box"
			id="heading"
		>
			<h1><%= listTitle %></h1>
		</div>

		<div class="box">
			<!-- Task List -->
			<% newListItems.forEach(function(item) { %>
			<form
				action="/delete"
				method="post"
				class="task-form"
			>
				<div class="item">
					<label class="task-label">
						<input
							type="checkbox"
							name="checkbox"
							value="<%= item._id %>"
							onchange="this.form.submit()"
							class="task-checkbox"
						/>
						<span class="task-text"><%= item.name %></span>
					</label>
				</div>
			</form>
			<% }) %>

			<!-- Add New Task Form -->
			<form
				action="/"
				method="post"
				class="add-item-form"
			>
				<input
					type="text"
					name="newItem"
					placeholder="Enter new item"
					autocomplete="off"
					required
				/>
				<button
					type="submit"
					name="list"
					value="today"
				>
					ADD
				</button>
				<input
					type="hidden"
					name="listName"
					value="<%= listTitle %>"
				/>
			</form>
		</div>
	</body>
</html>
